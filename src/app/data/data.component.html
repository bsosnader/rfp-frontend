
<div>
  <div class="row">
        <div class="col-md-6 col-md-offset-3">
                <div class="input-group col-md-12">
                    <input type="text" class="form-control input-lg" placeholder="search" #term (keyup.enter)="doIt(term.value)" />
                    <span class="input-group-btn">
                        <button (click)="doIt(term.value)" class="btn btn-info btn-lg" type="button">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </span>
                </div>
        </div>
	</div>
  <h3>Filters</h3>
  <label>
    <input type="checkbox" name="useFilter" [(ngModel)]="useFilter" />
    Use Filter
  </label>
  <form *ngIf="filters && useFilter">
    <div *ngFor="let filter of filters">
      <div class="form-group row">
        <label class="col-sm-1 col-form-label" for="{{filter}}">{{filter}}:</label>
        <div class="col-sm-3">
          <input class="form-control" type="text" id="{{filter}}" name="{{filter}}" [(ngModel)]="filtered[filter].term[filter]">
        </div>
      </div>
    </div>
  </form>
  <ul *ngIf="results" class="list-group">
    <li *ngFor="let hit of results" class="list-group-item">
      <div [innerHtml]="hit.highlight.body" class="results"></div>
      <ul class="list-group">
        <li *ngFor="let x of hit._source | values:'key':true" class="list-group-item">
          <strong>{{x.k}}</strong>: {{x.childValue}}
        </li>
      </ul>
    </li>
  </ul>
</div>
